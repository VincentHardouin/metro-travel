[{"data":1,"prerenderedAt":127},["ShallowReactive",2],{"/blog/2024-02-27":3},{"id":4,"title":5,"body":6,"description":16,"extension":120,"meta":121,"navigation":122,"path":123,"seo":124,"stem":125,"__hash__":126},"blog/blog/2024-02-27.md","2024-02-27",{"type":7,"value":8,"toc":117},"minimark",[9,13,17,20,23,74,77,96,107,110,113],[10,11,5],"h1",{"id":12},"_2024-02-27",[14,15,16],"p",{},"Nous avons Paris d'affiché, un champ qui permet de chercher une station de métro,\net un bouton pour valider la station et qui l'ajoute à la carte.",[14,18,19],{},"Cependant, on peut voir que certaines stations sont en doublons.",[14,21,22],{},"Dans cet exemple, on peut voir que la station \"Nation\" remonte 6 fois",[24,25,30],"pre",{"className":26,"code":27,"language":28,"meta":29,"style":29},"language-bash shiki shiki-themes github-light github-dark","cat assets/export.geojson | jq '.features | map(select(.properties.railway == \"stop\" or (.properties.public_transport == \"stop_position\" and .properties[\"type:RATP\"] == \"metro\")))' | rg '\"name\": \"Nation\"'| wc -l\n","bash","",[31,32,33],"code",{"__ignoreMap":29},[34,35,38,42,46,50,53,56,58,61,64,67,70],"span",{"class":36,"line":37},"line",1,[34,39,41],{"class":40},"sScJk","cat",[34,43,45],{"class":44},"sZZnC"," assets/export.geojson",[34,47,49],{"class":48},"szBVR"," |",[34,51,52],{"class":40}," jq",[34,54,55],{"class":44}," '.features | map(select(.properties.railway == \"stop\" or (.properties.public_transport == \"stop_position\" and .properties[\"type:RATP\"] == \"metro\")))'",[34,57,49],{"class":48},[34,59,60],{"class":40}," rg",[34,62,63],{"class":44}," '\"name\": \"Nation\"'",[34,65,66],{"class":48},"|",[34,68,69],{"class":40}," wc",[34,71,73],{"class":72},"sj4cs"," -l\n",[14,75,76],{},"En regardant les données, on peut voir que les stations en doublons n'ont pas exactement les mêmes coordonnées.\nEn cherchant avec les coordonnées d'une station, on peut voir que ça nous remonte la ligne associée",[24,78,80],{"className":26,"code":79,"language":28,"meta":29,"style":29}," cat assets/export.geojson | jq '.features[] | select(.geometry.coordinates[][] == [2.3213306,48.8822428])'\n",[31,81,82],{"__ignoreMap":29},[34,83,84,87,89,91,93],{"class":36,"line":37},[34,85,86],{"class":40}," cat",[34,88,45],{"class":44},[34,90,49],{"class":48},[34,92,52],{"class":40},[34,94,95],{"class":44}," '.features[] | select(.geometry.coordinates[][] == [2.3213306,48.8822428])'\n",[14,97,98,99,102,103,106],{},"Comme les lignes sont représentées en geojson, grâce à des\n",[31,100,101],{},"MultiLineString",", ou des\n",[31,104,105],{},"LineString",",\nje me dis que ça va m'être utile de garder toutes les coordonnées d'une unique station.",[14,108,109],{},"C'est parti pour faire un script pour merger les stations en doublons.",[14,111,112],{},"Ensuite, je vais devoir relier les stations entre elles, pour ça je vais vouloir extraire les lignes de métro du \"gros\"\ngeojson.\nC'est parti pour un autre script.",[114,115,116],"style",{},"html pre.shiki code .sScJk, html code.shiki .sScJk{--shiki-default:#6F42C1;--shiki-dark:#B392F0}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}html pre.shiki code .szBVR, html code.shiki .szBVR{--shiki-default:#D73A49;--shiki-dark:#F97583}html pre.shiki code .sj4cs, html code.shiki .sj4cs{--shiki-default:#005CC5;--shiki-dark:#79B8FF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":29,"searchDepth":118,"depth":118,"links":119},2,[],"md",{"date":5},true,"/blog/2024-02-27",{"title":5,"description":16},"blog/2024-02-27","w5x19yR9dLrMsZVSVeCzp1NVLqQWTLqnExgyMtOYaGU",1752417583302]