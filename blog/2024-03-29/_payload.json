[{"data":1,"prerenderedAt":194},["ShallowReactive",2],{"/blog/2024-03-29":3},{"id":4,"title":5,"body":6,"description":16,"extension":187,"meta":188,"navigation":189,"path":190,"seo":191,"stem":192,"__hash__":193},"blog/blog/2024-03-29.md","2024-03-29",{"type":7,"value":8,"toc":183},"minimark",[9,13,17,20,23,43,46,57,60,65,68,75,90,119,122,125,136,139,150,153,156,167,171,179],[10,11,5],"h1",{"id":12},"_2024-03-29",[14,15,16],"p",{},"Je n'ai pas beaucoup de temps aujourd'hui, mais j'aimerais bien en finir avec cette migration vers GTFS, au moins avoir\ntoutes les données exportées.",[14,18,19],{},"Hier, je me suis arrêté sur les stations adjacentes.",[14,21,22],{},"Récapitulons, je peux extraire :",[24,25,26,34,40],"ul",{},[27,28,29,30],"li",{},"les lignes /\n",[31,32,33],"code",{},"routes",[27,35,36,37],{},"les arrêts /\n",[31,38,39],{},"stops",[27,41,42],{},"les stations adjacentes",[14,44,45],{},"Ce qu'il manque :",[24,47,48,51,54],{},[27,49,50],{},"récupérer les chemins des lignes pour les ajouter dans les stations adjacentes.",[27,52,53],{},"récupérer les stations uniques dans l'autre fichier fourni par IDFM",[27,55,56],{},"insérer l'id unique dans les stations",[14,58,59],{},"Je pense qu'avec ça je suis plutôt tranquille.",[61,62,64],"h2",{"id":63},"ajouter-le-chemin-entre-les-deux-stations","Ajouter le chemin entre les deux stations",[14,66,67],{},"Il me faut les stations pour avoir leur position, les chemins des lignes, et les stations adjacentes.",[14,69,70,71,74],{},"Les coordonnées des lignes sont du type :\n",[31,72,73],{},"MultiLineString",", je suppose que c'est pour l'aller-retour, mais à vérifier.\nEn vérifiant, je vois que ce n'est pas le cas, on est plutôt sur une moyenne de 4 Lines.",[14,76,77,78,81,82,85,86,89],{},"En regardant en prenant juste\n",[31,79,80],{},"from"," et\n",[31,83,84],{},"to"," et en regardant dans chaque\n",[31,87,88],{},"Line",", j'arrive à avoir ces stats :",[91,92,97],"pre",{"className":93,"code":94,"language":95,"meta":96,"style":96},"language-shell shiki shiki-themes github-light github-dark","❯ node scripts/extract-data.js\nAdjacent stations with paths: 1572\nAdjacent stations without path: 2018\n","shell","",[31,98,99,107,113],{"__ignoreMap":96},[100,101,104],"span",{"class":102,"line":103},"line",1,[100,105,106],{},"❯ node scripts/extract-data.js\n",[100,108,110],{"class":102,"line":109},2,[100,111,112],{},"Adjacent stations with paths: 1572\n",[100,114,116],{"class":102,"line":115},3,[100,117,118],{},"Adjacent stations without path: 2018\n",[14,120,121],{},"Ce qui me parait beaucoup trop comme écart.\nEst-ce que je n'aurai pas trop de stations adjacentes ? Je vais vérifier en regardant dans les données actuelles, j'ai\nécrit un test, j'en ai 1560, ça parait cohérent du coup.",[14,123,124],{},"Donc finalement, on n'est pas si mal, si j'ai bien compris.",[14,126,127,128,131,132,135],{},"En analysant les données, je me rends compte que j'ai des\n",[31,129,130],{},"adjacentStations"," (est-ce que j'aime ce nom ?), qui sont en\ndes chemins entre plusieurs stations adjacentes, mais plutôt extérieur (je crois), comme\n",[31,133,134],{},"Quatre Septembre - Opéra",".",[14,137,138],{},"Ce que je pense de ça, c'est que certains changements sont plus simples à faire à pied, qu'en transport.",[14,140,141,142,145,146,149],{},"Si par exemple, un utilisateur insère\n",[31,143,144],{},"Opéra",", puis\n",[31,147,148],{},"Quatre Septembre",", je vais les lier avec la 3, donc peu importe que\nle chemin à pied existe, je crois ?",[14,151,152],{},"Par contre, je me demande si pour l'algo d'affichage, il ne faudrait pas que j'ai le from et to stop_unique_id.",[14,154,155],{},"C'est le moment de s'y mettre, j'ai l'impression.",[14,157,158,159,166],{},"Je\ntélécharge ",[160,161,165],"a",{"href":162,"rel":163},"https://prim.iledefrance-mobilites.fr/jeux-de-donnees/emplacement-des-gares-idf-data-generalisee",[164],"nofollow","les données généralisées",",\nle csv est pas mal contrairement à celui des tracés des lignes.",[61,168,170],{"id":169},"ressources","Ressources",[24,172,173],{},[27,174,175],{},[160,176,178],{"href":162,"rel":177},[164],"Gares et stations du réseau ferré d'Île-de-France (donnée généralisée)",[180,181,182],"style",{},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":96,"searchDepth":109,"depth":109,"links":184},[185,186],{"id":63,"depth":109,"text":64},{"id":169,"depth":109,"text":170},"md",{"date":5},true,"/blog/2024-03-29",{"title":5,"description":16},"blog/2024-03-29","4-1f4pyBPzZikm-trDct1DnwkWD3e2d_QzwYkxRMxms",1752398279461]