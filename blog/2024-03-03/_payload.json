[{"data":1,"prerenderedAt":429},["ShallowReactive",2],{"/blog/2024-03-03":3},{"id":4,"title":5,"body":6,"description":16,"extension":422,"meta":423,"navigation":424,"path":425,"seo":426,"stem":427,"__hash__":428},"blog/blog/2024-03-03.md","2024-03-03",{"type":7,"value":8,"toc":420},"minimark",[9,13,17,133,136,143,146,149,171,174,177,401,404,407,410,413,416],[10,11,5],"h1",{"id":12},"_2024-03-03",[14,15,16],"p",{},"Aujourd'hui, continuons sur le script pour ajouter les stations adjacentes.\nAprès quelques modifications, je me rends compte que je lance le script avec les deux sens de la ligne,\nce qui n'a pas vraiment d'intérêt.\nAutre point, lors d'une fourche, les index ne sont pas corrects, je me retrouve avec la station \"Pierre et Marie Curie\"\nsur la ligne 7 qui a comme stations adjacentes :",[18,19,24],"pre",{"className":20,"code":21,"language":22,"meta":23,"style":23},"language-json shiki shiki-themes github-light github-dark","{\n  \"adjacentStations\": {\n    \"7\": [\n      \"Porte d'Ivry\",\n      \"Mairie d'Ivry\",\n      \"Porte d'Ivry\",\n      \"Mairie d'Ivry\",\n      \"Porte d'Ivry\",\n      \"Villejuif - Louis Aragon\",\n      \"Porte d'Ivry\",\n      \"Villejuif - Louis Aragon\"\n    ]\n  }\n}\n","json","",[25,26,27,36,46,55,65,73,80,87,94,102,109,115,121,127],"code",{"__ignoreMap":23},[28,29,32],"span",{"class":30,"line":31},"line",1,[28,33,35],{"class":34},"sVt8B","{\n",[28,37,39,43],{"class":30,"line":38},2,[28,40,42],{"class":41},"sj4cs","  \"adjacentStations\"",[28,44,45],{"class":34},": {\n",[28,47,49,52],{"class":30,"line":48},3,[28,50,51],{"class":41},"    \"7\"",[28,53,54],{"class":34},": [\n",[28,56,58,62],{"class":30,"line":57},4,[28,59,61],{"class":60},"sZZnC","      \"Porte d'Ivry\"",[28,63,64],{"class":34},",\n",[28,66,68,71],{"class":30,"line":67},5,[28,69,70],{"class":60},"      \"Mairie d'Ivry\"",[28,72,64],{"class":34},[28,74,76,78],{"class":30,"line":75},6,[28,77,61],{"class":60},[28,79,64],{"class":34},[28,81,83,85],{"class":30,"line":82},7,[28,84,70],{"class":60},[28,86,64],{"class":34},[28,88,90,92],{"class":30,"line":89},8,[28,91,61],{"class":60},[28,93,64],{"class":34},[28,95,97,100],{"class":30,"line":96},9,[28,98,99],{"class":60},"      \"Villejuif - Louis Aragon\"",[28,101,64],{"class":34},[28,103,105,107],{"class":30,"line":104},10,[28,106,61],{"class":60},[28,108,64],{"class":34},[28,110,112],{"class":30,"line":111},11,[28,113,114],{"class":60},"      \"Villejuif - Louis Aragon\"\n",[28,116,118],{"class":30,"line":117},12,[28,119,120],{"class":34},"    ]\n",[28,122,124],{"class":30,"line":123},13,[28,125,126],{"class":34},"  }\n",[28,128,130],{"class":30,"line":129},14,[28,131,132],{"class":34},"}\n",[14,134,135],{},"Donc, on peut voir les doublons aller-retour + aller-retour de l'autre fourche \"Villejuif - Louis Aragon\".",[14,137,138,139,142],{},"Autre problème, en regardant la Station \"Saint-Lazare\", je vois que les stations adjacentes sur la 13 sont \"Miromesnil\"\net \"Place de Clichy\", au lieu de \"Liège\".\n\"Liège\", n'est même pas présente dans la liste des stations, je vais donc devoir modifier le\nscript\n",[25,140,141],{},"merge-duplicate-stations.js","\net accessoirement, je vais chercher le nombre de stations.",[14,144,145],{},"Bon, une petite condition de plus et je me retrouve avec la station Liège, qui s'appelait visiblement Berlin avant.",[14,147,148],{},"Pour rappel, si je veux retrouver toutes les données dans le bon sens, je peux :",[18,150,154],{"className":151,"code":152,"language":153,"meta":23,"style":23},"language-shell shiki shiki-themes github-light github-dark","node src/merge-duplicate-stations.js\nnode src/export-stations.js\nnode src/add-adjacent-stations.js\n","shell",[25,155,156,161,166],{"__ignoreMap":23},[28,157,158],{"class":30,"line":31},[28,159,160],{},"node src/merge-duplicate-stations.js\n",[28,162,163],{"class":30,"line":38},[28,164,165],{},"node src/export-stations.js\n",[28,167,168],{"class":30,"line":48},[28,169,170],{},"node src/add-adjacent-stations.js\n",[14,172,173],{},"Bon, j'ai fini par ajouter quelques tests : nombre de stations, nombre de lignes, etc",[14,175,176],{},"La station Saint-Lazare ressemble désormais à quelque chose de correct :",[18,178,180],{"className":20,"code":179,"language":22,"meta":23,"style":23},"{\n  \"lines\": [\n    \"14\",\n    \"12\",\n    \"3\",\n    \"13\"\n  ],\n  \"inLineIndex\": {\n    \"3\": 87,\n    \"12\": 177,\n    \"13\": 180,\n    \"14\": 73\n  },\n  \"adjacentStations\": {\n    \"3\": [\n      \"Havre - Caumartin\",\n      \"Europe\"\n    ],\n    \"12\": [\n      \"Trinité d'Estienne d'Orves\",\n      \"Madeleine\"\n    ],\n    \"13\": [\n      \"Liège\",\n      \"Miromesnil\"\n    ],\n    \"14\": [\n      \"Madeleine\",\n      \"Pont Cardinet\"\n    ]\n  }\n}\n",[25,181,182,186,193,200,207,214,219,224,231,243,254,266,275,280,286,293,301,307,313,320,328,334,339,346,354,360,365,372,380,386,391,396],{"__ignoreMap":23},[28,183,184],{"class":30,"line":31},[28,185,35],{"class":34},[28,187,188,191],{"class":30,"line":38},[28,189,190],{"class":41},"  \"lines\"",[28,192,54],{"class":34},[28,194,195,198],{"class":30,"line":48},[28,196,197],{"class":60},"    \"14\"",[28,199,64],{"class":34},[28,201,202,205],{"class":30,"line":57},[28,203,204],{"class":60},"    \"12\"",[28,206,64],{"class":34},[28,208,209,212],{"class":30,"line":67},[28,210,211],{"class":60},"    \"3\"",[28,213,64],{"class":34},[28,215,216],{"class":30,"line":75},[28,217,218],{"class":60},"    \"13\"\n",[28,220,221],{"class":30,"line":82},[28,222,223],{"class":34},"  ],\n",[28,225,226,229],{"class":30,"line":89},[28,227,228],{"class":41},"  \"inLineIndex\"",[28,230,45],{"class":34},[28,232,233,235,238,241],{"class":30,"line":96},[28,234,211],{"class":41},[28,236,237],{"class":34},": ",[28,239,240],{"class":41},"87",[28,242,64],{"class":34},[28,244,245,247,249,252],{"class":30,"line":104},[28,246,204],{"class":41},[28,248,237],{"class":34},[28,250,251],{"class":41},"177",[28,253,64],{"class":34},[28,255,256,259,261,264],{"class":30,"line":111},[28,257,258],{"class":41},"    \"13\"",[28,260,237],{"class":34},[28,262,263],{"class":41},"180",[28,265,64],{"class":34},[28,267,268,270,272],{"class":30,"line":117},[28,269,197],{"class":41},[28,271,237],{"class":34},[28,273,274],{"class":41},"73\n",[28,276,277],{"class":30,"line":123},[28,278,279],{"class":34},"  },\n",[28,281,282,284],{"class":30,"line":129},[28,283,42],{"class":41},[28,285,45],{"class":34},[28,287,289,291],{"class":30,"line":288},15,[28,290,211],{"class":41},[28,292,54],{"class":34},[28,294,296,299],{"class":30,"line":295},16,[28,297,298],{"class":60},"      \"Havre - Caumartin\"",[28,300,64],{"class":34},[28,302,304],{"class":30,"line":303},17,[28,305,306],{"class":60},"      \"Europe\"\n",[28,308,310],{"class":30,"line":309},18,[28,311,312],{"class":34},"    ],\n",[28,314,316,318],{"class":30,"line":315},19,[28,317,204],{"class":41},[28,319,54],{"class":34},[28,321,323,326],{"class":30,"line":322},20,[28,324,325],{"class":60},"      \"Trinité d'Estienne d'Orves\"",[28,327,64],{"class":34},[28,329,331],{"class":30,"line":330},21,[28,332,333],{"class":60},"      \"Madeleine\"\n",[28,335,337],{"class":30,"line":336},22,[28,338,312],{"class":34},[28,340,342,344],{"class":30,"line":341},23,[28,343,258],{"class":41},[28,345,54],{"class":34},[28,347,349,352],{"class":30,"line":348},24,[28,350,351],{"class":60},"      \"Liège\"",[28,353,64],{"class":34},[28,355,357],{"class":30,"line":356},25,[28,358,359],{"class":60},"      \"Miromesnil\"\n",[28,361,363],{"class":30,"line":362},26,[28,364,312],{"class":34},[28,366,368,370],{"class":30,"line":367},27,[28,369,197],{"class":41},[28,371,54],{"class":34},[28,373,375,378],{"class":30,"line":374},28,[28,376,377],{"class":60},"      \"Madeleine\"",[28,379,64],{"class":34},[28,381,383],{"class":30,"line":382},29,[28,384,385],{"class":60},"      \"Pont Cardinet\"\n",[28,387,389],{"class":30,"line":388},30,[28,390,120],{"class":34},[28,392,394],{"class":30,"line":393},31,[28,395,126],{"class":34},[28,397,399],{"class":30,"line":398},32,[28,400,132],{"class":34},[14,402,403],{},"Mais le script n'est pas suffisant, certaines stations n'ont toujours pas de stations adjacentes comme \"Olympiades\", \"\nMairie de Montreuil\", …",[14,405,406],{},"Étonnamment, les deux stations sont des terminus, je vais donc voir le problème.\nJ'ai déplacé une condition, et il me reste plus que 2 stations sans stations adjacentes : \"Danube\" et \"Pré\nSaint-Gervais\", les deux stations sont sur la boucle de la ligne 7bis, que je mets de côté.",[14,408,409],{},"Je me suis remis sur l'affichage des lignes entre les stations adjacentes, cela fonctionne,\nmais il me reste un problème avec la fourche de la 13 par exemple.\nAussi, un autre problème sur comment j'itère sur les lignes, j'affiche 2 bouts de liaison (ligne dans le sens A->B et\nB->A).\nJe pense que dans le inLineIndex, je stocke uniquement la ref de la ligne exemple : 13, mais pas son sens, ni sa\nbranche.\nIl faut donc être plus précis.",[14,411,412],{},"Le changement s'est fait sans encombre, et cela fonctionne bien.",[14,414,415],{},"Dernière étape de la journée, fixer le build, un souci de \"source\" dans le package.json et on est bon.",[417,418,419],"style",{},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sVt8B, html code.shiki .sVt8B{--shiki-default:#24292E;--shiki-dark:#E1E4E8}html pre.shiki code .sj4cs, html code.shiki .sj4cs{--shiki-default:#005CC5;--shiki-dark:#79B8FF}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}",{"title":23,"searchDepth":38,"depth":38,"links":421},[],"md",{"date":5},true,"/blog/2024-03-03",{"title":5,"description":16},"blog/2024-03-03","hTPFQK_4vH46YIuiO2px62XwDTQzi-PT18tZnUo1ZXg",1752417583279]