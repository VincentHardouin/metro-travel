[{"data":1,"prerenderedAt":184},["ShallowReactive",2],{"/blog/2024-03-13":3},{"id":4,"title":5,"body":6,"description":16,"extension":177,"meta":178,"navigation":179,"path":180,"seo":181,"stem":182,"__hash__":183},"blog/blog/2024-03-13.md","2024-03-13",{"type":7,"value":8,"toc":174},"minimark",[9,13,17,28,36,39,42,45,64,67,79,82,102,105,121,124,127,130,137,140,143,146,156,159,165,168,171],[10,11,5],"h1",{"id":12},"_2024-03-13",[14,15,16],"p",{},"Je n'ai pas fait de note hier, mais il a fallu résoudre un bug sur la modale de fin.\nJe ne passais plus les bons paramètres à la fonction qui vérifie si les stations sont reliées entre elles.\nPlus de tests, ça aurait pu être bien ou TS, mais bon …",[14,18,19,20,27],{},"Aujourd'hui, je vais m'attaquer au fait d'afficher les lignes de métro dans la bonne couleur.\nJe tombe sur ",[21,22,26],"a",{"href":23,"rel":24},"https://fr.wikipedia.org/wiki/Mod%C3%A8le:M%C3%A9tro_de_Paris/couleur_fond",[25],"nofollow","cette page wikipédia",",\nla source est vraiment sympa, j'aime bien ce genre de document.",[14,29,30,31,35],{},"Est-ce que j'ajoute l'info dans json des lignes ? Cela a pour conséquence de modifier le script\n",[32,33,34],"code",{},"extract-lines","\npour qu'il ajoute les couleurs.\nSinon j'ajoute l'info dans la class map qui gère ça. La deuxième solution me paraît suffisante.",[14,37,38],{},"J'ajoute la liste de couleur, je change une ligne de code et ça fonctionne, j'aime beaucoup. J'envoie direct en prod.",[14,40,41],{},"Dans la todo, le prochain sujet, c'est le cout de changement de ligne dans l'algo de Dijkstra. C'est parti !",[14,43,44],{},"Créons un jeu de test, j'imagine un par exemple de prendre la 13 qui passe par Saint-Lazare, et remonter jusqu'à\nBrochant.\nSi on part de Saint-Lazare, on peut prendre la 13 ou la 14 puis 13.\nEn prenant la 13 ça donne :",[46,47,48,52,55,58,61],"ul",{},[49,50,51],"li",{},"Saint-Lazare",[49,53,54],{},"Liège",[49,56,57],{},"Place de Clichy",[49,59,60],{},"La Fourche",[49,62,63],{},"Brochant",[14,65,66],{},"En prenant la 14 puis 13 ça donne :",[46,68,69,71,74,77],{},[49,70,51],{},[49,72,73],{},"Pont Cardinet",[49,75,76],{},"Porte de Clichy",[49,78,63],{},[14,80,81],{},"Donc admettons que je vienne de Miromesnil, dans les deux cas je suis dans la 13, puis l'algo actuel me dirait de\nprendre la 14, puis re 13.\nCe qui donne :\nEn prenant la 13 ça donne 6 stations :",[46,83,84,87,90,93,96,99],{},[49,85,86],{},"13 - Miromesnil",[49,88,89],{},"13 - Saint-Lazare",[49,91,92],{},"13 - Liège",[49,94,95],{},"13 - Place de Clichy",[49,97,98],{},"13 - La Fourche",[49,100,101],{},"13 - Brochant",[14,103,104],{},"En prenant la 14 puis 13 ça donne 5 stations :",[46,106,107,109,112,115,118],{},[49,108,86],{},[49,110,111],{},"13->14 - Saint-Lazare",[49,113,114],{},"14 - Pont Cardinet",[49,116,117],{},"14->13 - Porte de Clichy",[49,119,120],{},"13 Brochant",[14,122,123],{},"Voilà mon jeu de test.",[14,125,126],{},"Ensuite, comment faire, je pense qu'à la création du graph, au lieu de simplement retourner la distance pour la station\nadjacente,\nje peux aussi ajouter la ligne. Ensuite au moment, où l'algo calcule les nodes suivants, si la ligne est différente,\nalors j'ajoute un cout de 1 par exemple.",[14,128,129],{},"Le code écrit est mine de rien un peu compliqué, je demande à ChatGPT de le passer en TS, ça sera plus simple pour\nchanger les signatures.\nIl m'a très bien fait ça, maintenant, j'ajoute mon intuition.",[14,131,132,133,136],{},"J'hésite pour l'argument de\n",[32,134,135],{},"computeSmallestStationsPath"," entre un cout de changement de ligne (un nombre)\nou juste un booléen qui active ou non cette feature.\nComme ça, rapidement, je ne vois pas de cas où je voudrais un cout différent de X, donc je vais partir sur un booléen.",[14,138,139],{},"D'ailleurs ce coût est-ce qu'il est bien de 1 ?",[14,141,142],{},"L'exemple de mon test d'au-dessus est intéressant :",[14,144,145],{},"On est à \"Notre-Dame de Lorette\" et on veut aller à \"Brochant\".\nNotre-Dame de Lorette est sur la 12, et Brochant est sur la 13.\nLe plus naturel serait de faire un changement de ligne de 12->13 à Saint-Lazare, mais avec un coût de 0 ou de 1 l'algo\nretourne toujours :",[147,148,153],"pre",{"className":149,"code":151,"language":152},[150],"language-text","\"Notre-Dame de Lorette\",\n\"Trinité d'Estienne d'Orves\",\n\"Saint-Lazare\",\n\"Pont Cardinet\",\n\"Porte de Clichy\",\n\"Brochant\",\n","text",[32,154,151],{"__ignoreMap":155},"",[14,157,158],{},"VS",[147,160,163],{"className":161,"code":162,"language":152},[150],"\"Notre-Dame de Lorette\",\n\"Trinité d'Estienne d'Orves\",\n\"Saint-Lazare\",\n\"Liège\",\n\"Place de Clichy\",\n\"La Fourche\",\n\"Brochant\",\n",[32,164,162],{"__ignoreMap":155},[14,166,167],{},"Cout total : 7 vs 7, mais l'algorithme retourne toujours le premier.",[14,169,170],{},"Si je prends un cout de 2, alors l'algo retourne le deuxième chemin, car j'obtiens : 8 pour 12->13 vs 9 pour 12->14->13.",[14,172,173],{},"Je vais me renseigner sur comment fonctionne les algos de CityMapper, ou autres.",{"title":155,"searchDepth":175,"depth":175,"links":176},2,[],"md",{"date":5},true,"/blog/2024-03-13",{"title":5,"description":16},"blog/2024-03-13","U2Htf0IWVDkqQxOhNjsKQx0w9tl64UGbjkq9kTNrWY0",1752398279463]